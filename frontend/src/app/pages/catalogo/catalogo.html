<app-navbar></app-navbar>

<section class="hero">
  <h1>Encuentra la propiedad de tus sueÃ±os</h1>
  <form class="search-bar" (ngSubmit)="buscar()">
    <mat-form-field>
      <mat-label>Tipo</mat-label>
      <mat-select [(ngModel)]="f.tipo" name="tipo">
        <mat-option value="">Todos</mat-option>
        <mat-option value="piso">Piso</mat-option>
        <mat-option value="atico">Ãtico</mat-option>
        <mat-option value="duplex">DÃºplex</mat-option>
        <mat-option value="chalet_adosado">Chalet adosado</mat-option>
        <mat-option value="casa_independiente">Casa independiente</mat-option>
        <mat-option value="oficina">Oficina</mat-option>
        <mat-option value="local">Local</mat-option>
        <mat-option value="plaza_garaje">Plaza de garaje</mat-option>
        <mat-option value="terreno">Terreno</mat-option>
        <mat-option value="trastero">Trastero</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Zona</mat-label>
      <input matInput [(ngModel)]="f.zona" name="zona" placeholder="Centro, Norte..." />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Dorm. mÃ­n</mat-label>
      <input matInput type="number" [(ngModel)]="f.dormitoriosMin" name="dormitoriosMin" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Dorm. max</mat-label>
      <input matInput type="number" [(ngModel)]="f.dormitoriosMax" name="dormitoriosMax" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Precio min</mat-label>
      <input matInput type="number" [(ngModel)]="f.precioMin" name="precioMin" />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Precio mÃ¡x</mat-label>
      <input matInput type="number" [(ngModel)]="f.precioMax" name="precioMax" />
    </mat-form-field>

    <div class="actions">
      <button class="botonOtroColor" mat-stroked-button>Buscar</button>
      <button class="botonOtroColor" mat-stroked-button type="button" (click)="limpiarFiltros()">
        Quitar filtros
      </button>
    </div>
  </form>
</section>

<div class="grid">
  <mat-card *ngFor="let i of inmuebles" class="card">
    <img
      mat-card-image
      [src]="
        i.fotoPrincipal
          ? 'http://localhost:3000' + i.fotoPrincipal
          : 'https://picsum.photos/seed/fallback/800/450'
      "
      alt="foto"
    />
    <mat-card-content>
      <h3>{{ i.titulo }}</h3>
      <p class="subtitle">{{ i.tipo | titlecase }} Â· {{ i.zona }}</p>
      <p class="subtitle">
        ğŸ› {{ i.dormitorios }} Â· ğŸ› {{ i.banos || 0 }} Â· ğŸ“ {{ i.metros || 0 }} mÂ²
      </p>
      <p class="precio">{{ i.precio | currency : 'EUR' }}</p>
    </mat-card-content>
    <mat-card-actions class="card-footer">
      <a mat-button color="primary" [routerLink]="['/inmueble', i.id]">Ver detalles</a>
      <a mat-stroked-button color="primary" [href]="i.urlIdealista" target="_blank" rel="noopener">
        Idealista
      </a>
    </mat-card-actions>
  </mat-card>
</div>

<app-contact-bar></app-contact-bar>
<app-footer></app-footer>
